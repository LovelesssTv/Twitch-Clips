<html>
<body>
    <iframe id="twitchPlayer" width="1280" height="720" frameborder="0" allowfullscreen autoplay></iframe>
    <script>
        // Lista delle clip
        const clips = [
            "https://clips.twitch.tv/embed?clip=BashfulStrongApePeteZarollTie&parent=lovelessstv.github.io",
            "https://clips.twitch.tv/embed?clip=CooperativeDeadSoybean4Head-jk8JNEFYap_s2T0A&parent=lovelessstv.github.io",
            "https://clips.twitch.tv/embed?clip=ConfidentPluckyLarkTBTacoRight-Ln2GHq1wtBEuDrJU&parent=lovelessstv.github.io",
            "https://clips.twitch.tv/embed?clip=AbstemiousCharmingMangetoutDxCat&parent=lovelessstv.github.io",
            "https://clips.twitch.tv/embed?clip=EasyTolerantCoyoteTBTacoRight--Jtl0vA39gRLwA2N&parent=lovelessstv.github.io",
            "https://clips.twitch.tv/embed?clip=CorrectBillowingGorillaMoreCowbell-n1Ab71TZLZGHJ5pm&parent=lovelessstv.github.io"
        ];

        // Funzione per cambiare la clip casualmente
        function getRandomClip() {
            const randomClip = clips[Math.floor(Math.random() * clips.length)];
            console.log("Clip selezionata:", randomClip); // Log della clip selezionata
            const player = document.getElementById("twitchPlayer");

            // Pulisce l'iframe e poi lo ricarica con la nuova clip
            player.src = ""; // Pulisce l'iframe
            setTimeout(() => {
                player.src = randomClip + "&autoplay=true";  // Reimposta l'iframe con la nuova clip
            }, 100);  // Aggiungi un piccolo ritardo per garantire che il ricaricamento funzioni correttamente
        }

        // Cambia la clip ogni 30 secondi
        getRandomClip();
        setInterval(getRandomClip, 30000);
    </script>
</body>
</html>
